<html>

<head>
    <link href="https://fonts.googleapis.com/css?family=Pacifico|Shadows+Into+Light" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Handlee|Nothing+You+Could+Do|Open+Sans+Condensed:300"
          rel="stylesheet">

    <link rel="stylesheet" href="../../../jspm_packages/github/hakimel/reveal.js@3.3.0/css/reveal.css">
    <link rel="stylesheet" href="../../../jspm_packages/github/hakimel/reveal.js@3.3.0/css/theme/white.css">
    <link rel="stylesheet" href="../../../src/css/common.css">
    <link rel="stylesheet" href="../../css/solarized-light.css">
    <link rel="stylesheet" href="css/client-for-architects.css">

    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? './css/print/pdf.css' : './css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
<div class="reveal">
    <code class="slides">

        <section>
            <h1>
                <span>Help!
                    <img style="height:0.5em;" class="plain" src="./img/cap-logo.svg">
                </span>
                <span style="display:block">my Project has a ...</span>
            </h1>
            <h2><span class="fallbackColor">... Frontend!</span></h2>

            <img style="height:6em; margin-left: -15em; margin-top:0em" class="plain" src="./img/frontend.png">
            <!--Image taken from: https://medium.com/fed-or-dead/javascript-really-is-overtaking-the-world-5b59b5af41ed-->

            <p style="margin-left: 10em; margin-top:-5em" class="author">
                <span style="display:block">by</span>
                <span style="display:block">Ewa Nestorowicz</span>
                <span>Bernd Olleck</span>
            </p>
        </section>

        <section>
            <span>
                A frontend developer amongst software architects...
            </span>

            <img style="height:16em;" class="plain" src="img/penguins.jpeg">
            <!--Image taken from: https://medium.com/gumtree-dev-team/front-end-architecture-part-1-2046663d0bc -->
        </section>

        <section data-background-color="var(--agenda-bg)">
            <h1 class="fallbackColor">
                Agenda
            </h1>
            <ul class="no-bullets" style="display: block; float: left">
                <li><strong>Definition of a frontend and its job</strong></li>
                <li><strong>Concepts</strong></li>
                <ul>
                    <li>UI Component Tree</li>
                    <li>Complexity</li>
                    <li>Threads and Asynchronous Behavior</li>
                    <li>Testing</li>
                </ul>
                <li><strong>Frameworks and Libraries</strong></li>
                <li><strong>Web</strong></li>
            </ul>
            <img class="plain" style="float: right; width: 11em; margin-top: 2em;" src="./img/agenda.png">
            <!--Image taken from: https://invexi.com/musings/the-glossary-graphic-designer-vs-front-end-development-->

        </section>

        <section>
            <!-- Definition of a Frontend -->
            <section data-background-color="var(--agenda-bg)">
                <h1 class="flippedColor">Definition of a frontend and its job</h1>
            </section>

            <section>
                <h1>Definition of a Frontend</h1>
                <ul>
                    <li class="no-bullet">For the purpose of this talk, a Frontend is defined by having</li>
                    <li>interaction with a user</li>
                    <li>significant amount of logic running on a local machine</li>
                    <ul>
                        <li>i.e. not a terminal in the Host sense</li>
                    </ul>
                    <li>calls to some kind of logic (remote or local) which can be accessed through an API</li>
                    <ul>
                        <li>as opposed to a document centric application like Excel or Word</li>
                    </ul>
                    <li>no restriction on the runtime environment:
                        <br/>can be native, web, mobile, embedded, …
                    </li>
                </ul>
            </section>

            <section>
                <h1>Job of a Frontend</h1>
                <ul>
                    <li>Display static frame: boxes, tabs, buttons, labels</li>
                    <li>Display dynamic data</li>
                    <li>Allow and handle user input and validation</li>
                    <li>Allow and handle user actions</li>
                    <li>Manage state (display and logical)</li>
                    <li>Organize dialogs, allow communication between them</li>
                    <li>Manage startup/shutdown, user session and settings</li>
                    <li>Process things / communicate with backend</li>
                </ul>
            </section>

            <section>
                <img class="plain" src="./img/OASP_ClientArchitecture_CompleteOverview.png" style="width: 50em">
                <!-- img taken from https://www.devonfw.com/rich-web-client-school/web-app-architecture/index.html#/19 -->
                <!--<div class="slide-background present" style="background-size: contain; display: block; background-image: url('./img/OASP_ClientArchitecture_CompleteOverview.png');" data-background-size="contain" data-loaded="true"></div>-->
            </section>
        </section>

        <!-- Overview: Key Concepts of the Frontend -->
        <section data-background-color="var(--agenda-bg)">
            <h1 class="flippedColor">Concepts</h1>
        </section>

        <section>
            <section>
                <h1>Key Concepts (1/2)</h1>
                <ul>
                    <LI>UI Component Tree
                        <br/>Everything is a rectangle in a hierarchy – where to draw the line?
                    </LI>
                    <LI>Complexity
                        <br/>Tables are hard, Trees are harder, and you‘re always fighting constraints, but how do
                        you divide and conquer?
                    </LI>
                    <LI>Threads and Async Behaviour
                        <br/>There is only one thread and it processes all events asynchronously
                    </LI>
                    <LI>Testing
                        <br/>Frontends tests can be automated – but do you really want to?
                    </LI>
                </ul>
            </section>

            <section>
                <h1>Key Concepts (2/2)</h1>
                <ul>
                    <LI>Authorization
                        <br/>The frontend wants to know all the rights, not just one!
                    </LI>
                    <LI>Error handling
                        <br/>Detect » Analyze » Display (» Quit or Continue?)
                    </LI>
                    <LI>Backend API and Calls
                        <br/>Can we please generate this? And when may writing by hand be better?
                    </LI>
                    <LI>Caching & Preloading
                        <br/>Can be a nightmare with object structures...
                    </LI>
                </ul>
                <!-- TODO BOL (3) add more teasers ? -->
            </section>
        </section>

        <!-- UI Component Tree -->
        <section>
            <section>
                <h1>UI Component Tree</h1>

                <ul class="no-bullets" style="display: block; float: left">
                    <li><strong>DOM (Document Object Model)</strong></li>
                    <ul>
                        <li>Events & event flow</li>
                        <li>Event bubbling</li>
                    </ul>
                    <li><strong>Architecture overview</strong></li>
                    <ul>
                        <li>Angular and component driven architecture</li>
                        <li>Components, Services, Modules</li>
                        <li>Smart & presentation components</li>
                    </ul>
                </ul>
                <img class="plain" style="width: 14em; " src="./img/frontend-structure.png">
                <!--Image taken from: https://blog.angularindepth.com/here-is-what-you-need-to-know-about-dynamic-components-in-angular-ac1e96167f9e -->
            </section>

            <section>
                <h1>DOM</h1>
                <h5>Document Object Model</h5>
                <p>The <strong>HTML DOM </strong>is a standard object model and programming interface for HTML. It's a
                    standard for how
                    to <strong>get, change, add, or delete </strong>HTML elements.</p>
                <img class="plain" style="width: 14em; " src="./img/dom.gif">
                <!--Image taken from: https://www.w3schools.com/js/js_htmldom.asp -->
            </section>

            <section>
                <h1>Event flow</h1>
                <blockquote><p><strong>Events </strong>are responsible for <strong>interaction</strong> of JavaScript with HTML web
                    pages.</p>
                </blockquote>
                <div style="display: inline-flex;">
                    <p>Basic example?</p>
                    <p class="primaryColor"><strong>&nbsp Button click</strong></p>
                </div>

                <p><strong>Event flow </strong> is the <strong>order </strong>in which event is
                    <strong>received </strong>on the web
                    page. If a <strong>nested element </strong> has been clicked, the click event is
                    <strong>triggered </strong>on <strong>each parent </strong>of the
                    nested element.</p>

            </section>

            <section>
                <h1>Event bubbling</h1>
                <p>When an <strong>event </strong>happens on an element, it <strong>first </strong>runs the handlers on
                    <strong>it</strong>, then on its <strong>parent</strong>, then all
                    the way up on other <strong>ancestors</strong>.</p>
                <img class="plain" style="width: 12em; " src="./img/event-bubbling.png">
                <!--Image taken from: https://medium.com/@vsvaibhav2016/event-bubbling-and-event-capturing-in-javascript-6ff38bec30e -->
                <p class="author"><strong>Events go up!</strong></p>
            </section>

            <section>
                <h2>Components, Services, Modules</h2>
                <img class="plain" style="width: 20em; margin-top: 2em;" src="./img/angular-architecture.png">
                <!--Image taken from: https://angular.io/guide/architecture -->
                <a href="https://angular.io/guide/architecture">Source</a>
            </section>

            <section>
                <h1>Modules</h1>
                <ul class="no-bullets">
                    <li>Every Angular app has a <strong>root module</strong>, conventionally named AppModule, which
                        provides
                        the <strong>bootstrap mechanism </strong>that launches the application.
                        An app typically contains <strong>many </strong> functional modules.
                    </li>
                    <li>Organizing your code into distinct functional modules helps in <strong>managing development of
                        complex
                        applications </strong>, and in designing for <strong>reusability</strong>. In addition, this
                        technique lets you take advantage
                        of <strong>lazy-loading</strong>—that is, loading modules on demand—to <strong>minimize the
                            amount
                            of code</strong> that needs to be
                        loaded at <strong>startup</strong>.
                    </li>
                </ul>
            </section>

            <section>
                <h1>Components</h1>
                <div style="display: inline-flex;">
                    <ul class="no-bullets">
                        <li>Every Angular application has <strong>at least one component</strong>, the root component
                            that
                            connects <strong>a component
                                hierarchy </strong>with the <strong>page document object model </strong>(DOM).
                        </li>
                        <li>
                            Each component defines a <strong>class</strong>
                            that contains application data and logic, and is <strong>associated with an HTML
                            template</strong> that defines a view.
                        </li>
                        </li>
                    </ul>
                    <img class="plain" style="width: 12em; height: 10em" src="./img/change-detection.png">
                    <!--Image taken from: https://blog.angularindepth.com/here-is-what-you-need-to-know-about-dynamic-components-in-angular-ac1e96167f9e -->
                </div>

            </section>

            <section>
                <h1>Services</h1>
                <ul class="no-bullets">
                    <li>For data or logic that <strong>isn't</strong> associated with <strong>a specific view</strong>,
                        and
                        that you want to share across
                        components, you create a <strong>service class</strong>.
                    </li>
                    <li><strong>Dependency injection (DI)</strong> lets you keep your component classes <strong>lean and
                        efficient</strong>. They don't fetch
                        data from the server, validate user input, or log directly to the console; they
                        <strong>delegate</strong> such tasks
                        to services.
                    </li>
                </ul>
                <img class="plain" style="width: 12em; margin-top: 1em" src="./img/services.png">
                <!--Image taken from: https://angular.io/guide/architecture-services -->
            </section>

            <section data-background-color="var(--tertiary-color)">
                <h1 class="flippedColor">
                    Why should we divide components
                    <span style="color:#10e0ff">?</span>
                </h1>
            </section>

            <section data-background-color="var(--grey-bg)">
                <h1>Smart & presentation components</h1>
                <ul class="no-bullets" style="display: block; float: left">
                    <li><strong>Smart components</strong></li>
                    <ul>
                        <li>define how the app <strong>work</strong></li>
                        <li>are connected to <strong>services</strong> (often stateful)</li>
                        <li>know how to <strong>load and persist</strong> data</li>
                    </ul>
                    <li><strong>Presentation components</strong></li>
                    <ul>
                        <li>receive data via <strong>props</strong> (bindings)</li>
                        <li>data comes as <strong>input</strong>, changes go as <strong>output</strong></li>
                    </ul>
                </ul>
                <img class="plain" style="width: 7em;" src="./img/smart-presentational-components.png">
                <!--Image taken from: https://jaketrent.com/post/smart-dumb-components-react/ -->

            </section>
        </section>

        <!-- Section Complexity -->
        <section>
            <section>
                <h1>Complexity</h1>
                <P>What do we spend significant time on?</P>
            </section>
            <section>
                <h2>Complexity (1/2)</h2>
                <ul>
                    <LI>Application Size</LI>
                    <UL>
                        <LI>A lot of dialogs which interact</LI>
                        <LI>Large dialogs with lots of things happening in them</LI>
                        <LI class="arrow">Client and Dialog architecture</LI>
                    </UL>
                    <LI>Widgets with lots of (contradicting) features or combinations: Tables, Trees</LI>
                    <UL>
                        <LI class="arrow">Challenge as soon as possible, early prototyping</LI>
                    </UL>
                    <LI>Doing the same thing in different ways: “I want it just like that but …”</LI>
                    <UL>
                        <LI class="arrow">Challenge as soon as possible, use Design System</LI>
                    </UL>
                </ul>
            </section>
            <section>
                <h2>Complexity (2/2)</h2>
                <ul>
                    <LI>Layout</LI>
                    <UL>
                        <LI>"CSS" - "Gesundheit!"</LI>
                    </UL>
                    <LI>Large amounts of data, e.g. tables but also rich text/html</LI>
                    <UL>
                        <LI class="arrow">Lazy loading, caching, viewports</LI>
                    </UL>
                    <LI>Debugging</LI>
                    <UL>
                        <LI>Performance, layout and focus problems</LI>
                    </UL>
                    <LI>Frontend or Backend</LI>
                    <UL>
                        <LI>Where is the best place for logic?</LI>
                    </UL>
                </ul>
                <!-- TODO BOL (3): Include? What costs runtime in the client? -->
            </section>
            <section>
                <h2>Application Size: Client Architecture</h2>
                <ul>
                    <LI class="no-bullet">Split the client into dialog components</LI>
                    <LI>Visible Rectangles as a guideline</LI>
                    <UL>
                        <LI>If not: most likely problematic</LI>
                    </UL>
                    <LI>UI Component Tree » Dialog Component Tree</LI>
                    <UL>
                        <LI>Caution: Consider layout constraints, e.g. If a dialog has a min/max view, or it can be
                            moved
                            around
                        </LI>
                    </UL>
                </ul>
            </section>
            <section>
                <h2>Client Architecture</h2>
                <ul>
                    <LI>Communication rules apply</LI>
                    <UL>
                        <LI>Parent knows Child</LI>
                        <LI>Child can define requirements for parent</LI>
                        <LI>Global Services may be dangerous</LI>
                        <LI>Lifecycle has to be synchronized between parent and child</LI>
                        <!-- TODO BOL (3): Do we need here more about communication? -->
                    </UL>
                    <LI>Separate hierarchy of dialog components or re-use the UI-Components?</LI>
                </ul>
            </section>
            <section>
                <h2>Client Architecture</h2>
                <ul>
                    <LI>Dialog component API (covering display, data, user actions, …)</LI>
                    <UL>
                        <LI>What has to be supplied from the parent:
                            <br/>Data, User context, external events (e.g. external user actions), ...
                        </LI>
                        <LI>What has to be supplied from the child:
                            <br/>UI Component, menu options, status information, ...
                        </LI>
                        <LI>What can be accessed implicitly (global service)?</LI>
                        <LI>What has to be handled by the parent:
                            <br/>data changes, other actions
                        </LI>
                    </UL>
                    <LI>Concept: Smart- and Dumb-Components</LI>
                    <UL>
                        <LI>Dumb-Component: Self contained, gets everything from parent</LI>
                        <LI>Smart-Component: Calls around (e.g. local and remote services)</LI>
                    </UL>
                </ul>
            </section>
            <section>
                <h2>Application Size: Dialog Architecture</h2>
                <ul>
                    <LI class="no-bullet">Use focused components to reduce complexity within a dialog</LI>
                    <LI>Visual:</LI>
                    <UL>
                        <LI>Build and use UI Components like Tables, Trees, Magic-Drop-Downs, …</LI>
                        <LI>Consider using visual designers if available</LI>
                    </UL>
                    <LI>Non-visual (...)</LI>
                </ul>
            </section>
            <section>
                <h2>Dialog Architecture</h2>
                <ul>
                    <LI>Non-Visual:</LI>
                    <UL>
                        <LI>Data handing:</LI>
                        <UL>
                            <LI>simple references » complex models</LI>
                            <!-- TODO BOL (2): be more detailed what data models mean? -->
                        </UL>
                        <LI>State management:</LI>
                        <UL>
                            <LI>Declare dependencies instead of programming them</LI>
                            <LI>Use a state engine if necessary</LI>
                        </UL>
                        <LI>Actions: extract the logic (command pattern) operating on data model and state</LI>
                    </UL>
                </ul>
            </section>
            <section>
                <h2>Widgets with lots of<br/>(contradicting) features</h2>
                <ul>
                    <LI>Use showcases of the UI toolkit library during specification</LI>
                    <LI>Caution:</LI>
                    <UL>
                        <LI>Combinations may not make sense</LI>
                        <UL>
                            <LI>E.g. local filtering and sorting of lazy loaded table data will not work</LI>
                        </UL>
                        <LI>Features may not work (as intended) in combination</LI>
                        <LI>UI libraries have bugs. Lots of them. Some even known for ages.</LI>
                    </UL>
                    <LI>Have an expert of the UI library at hand, and even then: prototype early</LI>
                    <LI>Prototype and challenge early (this is getting more and more difficult)</LI>
                </ul>
            </section>
            <section>
                <h2>Same but Different (1/2)</h2>
                <ul>
                    <li class="no-bullet">“Here I want the normal drop down, but some entries should be displayed grey
                        and nothing should happen when the user selects them…”</li>
                    <LI>First option for the developer</LI>
                    <UL>
                        <LI>Ignore the already existing project specific UI component for drop down and build this specific
                            logic from scratch</LI>
                        <LI class="arrow">Special logic, new bugs, not transferable“but there you already did that – why does it cost
                            so much to do it here as well?”</LI>
                    </UL>
                </ul>
            </section>
            <section>
                <h2>Same but Different (2/2)</h2>
                <ul>
                    <LI>Second option for the developer</LI>
                    <UL>
                        <LI>Extend the project specific UI component and make this feature configurable</LI>
                        <LI class="arrow">UI Components get more complicated</LI>
                    </UL>
                    <LI class="arrow">Use a stringent and coherent style guide (preferably based on a design system)</LI>
                    <UL>
                        <LI>Develop project specific UI components if the UI toolkit does not allow this directly</LI>
                        <LI>Make sure the client knows this and make the extra cost for exceptions as transparent as
                            possible</LI>
                    </UL>
                </ul>
            </section>
            <section>
                <h2>Layout</h2>
                <ul>
                    <LI>Layout Managers/Mechanisms dynamically organize visual elements based on constraints</LI>
                    <UL>
                        <LI>Solve the question “what position and what rectangular size should the element have”</LI>
                        <LI>Typically two calculation methods:</LI>
                        <UL>
                            <LI>As much space available as I desire (because of Scrollbars)</LI>
                            <LI>Things need to fit into a box with a given size</LI>
                        </UL>
                    </UL>
                    <LI>Complexity comes from the number of options and the intuitive knowledge about what the
                        algorithm does</LI>
                    <LI class="arrow">Give guidelines on the allowed Layout Managers or mechanisms</LI>
                    <UL>
                        <LI>Start during the specification phase</LI>
                        <LI>Let developers get familiar with the options</LI>
                    </UL>
                </ul>
            </section>
            <section>
                <h2>Debugging (1/2)</h2>
                <ul>
                    <LI class="no-bullet">In a few situations, debugging is really difficult</LI>
                    <LI>Layout</LI>
                    <UL>
                        <LI>Layout algorithms are influenced by a lot of parameters and circumstances(and a debugger
                            doesn’t help, intuitive knowledge is helpful)
                        </LI>
                    </UL>
                    <LI>Focus</LI>
                    <UL>
                        <LI>A debugger which is used grabs the focus from the application which is debugged</LI>
                    </UL>
                </ul>
            </section>
            <section>
                <h2>Debugging (2/2)</h2>
                <ul>
                    <LI>Performance of asynchronous events</LI>
                    <UL>
                        <LI>Profiling does not necessary help when (multiple) events are triggered for unknown reasons</LI>
                    </UL>
                    <LI>UI Toolkits</LI>
                    <UL>
                        <LI>You may have to debug through the complex UI toolkit code to understand some (undocumented)
                            behaviour</LI>
                    </UL>
                    <LI class="arrow">Rely on Experience (or really smart developers)</LI>
                </ul>
            </section>
            <section>
                <h2>Frontend or Backend</h2>
                <ul>
                    <li class="no-bullet">Where is the best place for logic?</li>
                    <LI>TODO BOL</LI>
                </ul>
            </section>
        </section>

        <!-- Section Threads and Async Behaviour -->
        <section>
            <section>
                <h1>Threads and Async behaviour</h1>
                <ul>
                    <li class="no-bullet">Aspects</li>
                    <LI>UI Toolkit Libraries are single threaded » background activity » UI blocking</LI>
                    <LI>Asynchronous thinking is difficult - just like multi-threaded thinking</LI>
                    <LI>Modal dialogs have two dimensions</LI>
                </ul>
            </section>

            <section>
                <h2>(Almost all) UI Toolkit Libraries are single threaded!</h2>
                <ul>
                    <LI class="arrow">Event Dispatch Thread, Main Thread, Display Thread, Dispatcher Thread, …</LI>
                    <LI class="no-bullet">Why?</LI>
                    <LI>Performance
                        <br/>Thread sync is expensive and doing that every time the user moves the mouse makes
                        the UI hard to use.
                    </LI>
                    <LI>Consistency
                        <br/>The user does things in a certain order. Multithreading would have to ensure that
                        order is preserved and thus would not help much.
                    </LI>
                    <LI class="no-bullet">And never try to access the UI (read or write) from a background thread, unless you know
                        exactly what you are doing!
                    </LI>
                </ul>
            </section>

            <section>
                <h2>Event Queues</h2>
                <ul>
                    <LI class="no-bullet">The core of every UI library is an event queue.</LI>
                    <LI>The UI Thread processes the events in that queue sequentially.</LI>
                    <LI>Types of events</LI>
                    <UL>
                        <LI>all user input events: mouse, keyboard, touch, …</LI>
                        <LI>system events: window switch, screen change, …</LI>
                        <LI>programmatic events: callbacks from other threads, timers, …</LI>
                        <LI>layout and paint requests (this is typically done asynchronously!)</LI>
                    </UL>
                </ul>
            </section>

            <section>
                <h2>Event Processing</h2>
                <ul>
                    <LI class="no-bullet">Do not block the event loop: Event processing (handlers) should be very fast</LI>
                    <LI>Consequences of taking too much time:</LI>
                    <UL>
                        <LI>User perceives the UI as slow or blocked (frozen, not responding)</LI>
                        <LI>OS/Browser will mark the program/page as frozen and even suggest killing it</LI>
                    </UL>
                    <LI>Things which are definitely too slow:</LI>
                    <UL>
                        <LI>Backend/Network calls</LI>
                        <LI>Significant disk IO</LI>
                        <LI>Drawing a complex image</LI>
                    </UL>
                </ul>
            </section>

            <section>
                <h2>Handling Processing Time (1/2)</h2>
                <UL>
                    <LI class="no-bullet">If event processing cannot be fast, then
                        <br/>(after other optimization options have been considered)</LI>
                    <LI>Split up the work into smaller parts and have multiple events</LI>
                    <UL>
                        <LI>This works well for things which have to interact with the UI, e.g. painting complex things
                            incrementally.
                        </LI>
                        <LI>Caution: You have to take care of consistency in case other events are mixed into your
                            events
                        </LI>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Handling Processing Time (2/2)</h2>
                <UL>
                    <LI>Do things in a background thread and block the UI if it is not read only</LI>
                    <UL>
                        <LI>This is the typical thing to do with backend calls</LI>
                        <LI>Caution:</LI>
                        <UL>
                            <LI>Make sure the data transfer from UI thread to background thread and back is thread
                                safe
                            </LI>
                            <LI>If you don’t block the UI for user input, things get inconsistent very fast…</LI>
                        </UL>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Blocking the UI (1/2)</h2>
                <UL>
                    <LI class="no-bullet">We want to block the UI for user input while we’re doing something in the background</LI>
                    <LI>Default idea:
                        <br/>Put something transparent over the UI that blocks all user input (mouse, keyboard
                        focus): “Glass Pane”, “Loading Indicator”, …</LI>
                    <LI>Caution:</LI>
                    <UL>
                        <LI>You cannot simply block/pause the UI thread, because it also handles the display!</LI>
                        <LI>This can introduce flickering in the display if you have some background activity which is
                            relatively fast
                            <UL>
                                <LI>Possible solution: block UI transparent immediately, then use timer to display something</LI>
                            </UL>
                        </LI>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Blocking the UI (2/2)</h2>
                <UL>
                    <LI>Option:
                        <br/>If the background logic only affects part of the UI, then only that part needs to be
                        blocked.</LI>
                    <UL>
                        <LI>E.g. only lazy loaded details: block this part or make sure it is read only
                        </LI>
                        <LI>Caution:</LI>
                        <UL>
                            <LI>Always give the user feedback, otherwise it will be very frustrating:
                            <UL>
                                <LI>Timer mouse cursor, loading indicator, spinner, "loading..."</LI>
                            </UL>
                            </LI>
                            <LI>This option has to be part of the application design/specification</LI>
                        </UL>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Blocking cannot be controlled by the framework/library</h2>
                <UL>
                    <LI class="no-bullet">This is logic you want to have in the framework and not let developers deal with it!</LI>
                    <LI class="no-bullet">But:</LI>
                    <LI>Frameworks don’t know if something we do takes time or not!</LI>
                    <LI>Frameworks don’t know if something we do needs blocking at all!</LI>
                    <LI>UI Toolkit Libraries don’t even care about stuff like backend calls:
                        <br/>If we’re lucky, they supply
                        a usable technical solution for blocking the UI
                    </LI>
                    <LI class="arrow">You have to make sure that the frontend project setup covers this!</LI>
                    <UL>
                    <LI>Typically: Select or write a backend access library which automatically blocks the UI while
                        counting the active requests.
                    </LI>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Asynchronous Thinking</h2>
                <UL>
                    <LI class="no-bullet">As difficult as parallel programming?</LI>
                    <LI>Basic Problem:</LI>
                    <UL>
                        <LI>We register for lots of events in lots of places</LI>
                        <UL>
                            <LI>Mouse, Keyboard, Input changes, ...</LI>
                        </UL>
                        <LI>We get callbacks from long running operations</LI>
                        <LI>There's no guaranteed order or timing</LI>
                        <UL>
                            <LI>Almost anything can happen almost any time</LI>
                        </UL>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Cause and Effect</h2>
                <UL>
                    <LI>Types of Events</LI>
                    <UL>
                        <LI>Data changed (input in text field, ...)</LI>
                        <LI>Selection changed (drop down, radio button, ...)</LI>
                        <LI>Button clicked (Search, Save, ...)</LI>
                        <LI>Callback (backend returns data, ...)</LI>
                        <LI>...</LI>
                    </UL>
                    <LI>Types of Responses</LI>
                    <UL>
                        <LI>Change data (clear input field, ...)</LI>
                        <LI>Change state (enable something, switch displays, ...)</LI>
                        <LI>Call something (backend API, printer logic, ...)</LI>
                        <LI>...</LI>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Recipes (1/3)</h2>
                <UL>
                    <LI>Reduce possibilities</LI>
                    <UL>
                        <LI>Disable things in the UI</LI>
                        <LI>In your event handlers, discard irrelevant situations immediately</LI>
                    </UL>
                    <LI>Binding (library support)</LI>
                    <UL>
                        <LI>Good for 1:1 dependencies</LI>
                        <LI>Data, State, Actions</LI>
                        <LI>Depending on Library:
                            <BR/>Conversions or logic may be pluggable
                        </LI>
                    </UL>
                </UL>
            </section>
            <section>
                <h2>Recipes (2/3)</h2>
                <UL>
                    <LI>Handler and Code</LI>
                    <UL>
                        <LI>Can be used in n:m situations</LI>
                        <LI>Pattern: "do the right thing" method</LI>
                        <UL>
                            <LI>Can be called many times</LI>
                            <LI>Requests its input information from "public" sources</LI>
                            <LI>Uses that to determine what the correct result is</LI>
                            <UL>
                                <LI>Be robust, the input may look inconsistent here</LI>
                            </UL>
                            <LI>Register it as callback to all events which are fired when one of the inputs changes</LI>
                        </UL>
                        <LI>Rule: Only have one place where a specific feature of the UI is changed!</LI>
                    </UL>
                </UL>
            </section>
            <!-- TODO BOL (3): Pro/Cons: Use data from Event vs. use data from source -->
            <section>
                <h2>Recipes (3/3)</h2>
                <UL>
                    <LI class="no-bullet">ReactiveX: Observables on Steroids</LI>
                    <LI>Idea: chain (potentially asynchronous) functional steps logically
                    </LI>
                    <LI>Sort of looks like Java Streams, but</LI>
                    <UL>
                        <LI>Streams pull, Observables push</LI>
                        <LI>Reusable</LI>
                        <LI>Lots of features related to asynchronous behaviour</LI>
                        <LI>...</LI>
                    </UL>
                    <LI>Avoid the callback hell</LI>
                    <LI>But difficult to master</LI>
                </UL>
            </section>
            <section>
                <P>RxJs Example</P>
                <img class="plain" src="rxjs-example.PNG" style="height: 100%; width: 100%"/>
            </section>
            <section>
                <h2>Pitfalls</h2>
                <UL>
                    <LI>Learning Curve</LI>
                    <LI>Memory Leaks</LI>
                    <UL>
                        <LI>Unregister when using a source with a different lifecycle</LI>
                    </UL>
                    <LI>Get values from the correct source</LI>
                    <UL>
                        <LI>No guaranteed order for listeners on the same event source</LI>
                        <LI>Derived logic's state may not be updated</LI>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Modal Dialogs (1/2)</h2>
                <UL>
                    <LI class="no-bullet">Originally, modal dialogs combine two types of blocking behaviour:</LI>
                    <LI>User Flow:
                        <br/>The user has to process this dialog</LI>
                    <UL>
                        <LI>May be scoped: Operating System, All Program Windows, One Window, One Browser Tab</LI>
                    </UL>
                    <LI>Code Flow:
                        <br/>The openModalDialog() returns when the user made a selection</LI>
                    <UL>
                        <LI>Does not block the event queue for painting and selective input! (Magic!)</LI>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Modal Dialogs (2/2)</h2>
                <UL>
                    <LI>Blocking behaviour</LI>
                    <UL>
                        <LI>Native: typically both types of block</LI>
                        <LI>Web: no code block - except when using the
                            <br/><code style="font-size: 80%">alert('do not use this')</code></LI>
                    </UL>
                    <LI>Data behaviour when editing parts of object webs</LI>
                    <UL>
                        <LI>Copy: Give the dialog a copy of the data objects</LI>
                        <UL>
                            <LI>Integrate copy on Ok</LI>
                        </UL>
                        <LI>Undo: Let the dialog change the original</LI>
                        <UL>
                            <LI>Us a local "backup" for cancel</LI>
                            <LI>Reload is typically bad idea (performance)</LI>
                        </UL>
                    </UL>
                </UL>
            </section>
        </section>

        <!-- Section Testing -->
        <section>
            <section>
                <h1>Testing</h1>
                <ul class="no-bullets" style="display: block; float: left">
                    <li><strong>Unit Tests (services, components)</strong> - synchronous and asynchronous</li>
                    <ul>
                        <li>Jasmine</li>
                        <li>Karma</li>
                        <li>JEST</li>
                    </ul>
                    <li><strong>E2E Tests</strong></li>
                    <ul>
                        <li>Protractor</li>
                    </ul>
                </ul>
                <img class="plain" style="width: 7em; margin-top: -5.5em; float: right;" src="./img/testing.png">
                <!--Image taken from: https://medium.com/@aeh.herman/first-steps-in-frontend-testing-with-tdd-bdd-7ddab8796ad6 -->
            </section>

            <section>
                <h1>Synchronous and asynchronous</h1>
                <h5>Tests</h5>
                <div style="display: inline-flex;">
                    <p><strong>How </strong>to</p>
                    <p style="color: lightseagreen"><strong>&nbsptest </strong></p>
                    <p>&nbspa <strong>code </strong>which relies on</p>
                    <p style="color: lightseagreen"><strong>&nbspasynchronous actions and operations</strong></p>
                    <p><strong>?</strong></p>
                </div>
                <ul class="no-bullets" style="float: left;">
                    <li><strong>Does </strong>the code...</li>
                    <ul>
                        <li>...make <strong>asynchronous </strong>calls?</li>
                        <li>...use <strong>XHR, Promises, Observables</strong>?</li>
                        <li>...use <strong>external </strong>templates and styles?</li>
                    </ul>
                </ul>
            </section>

            <section>
                <h4>How to...</h4>
                <h1>test</h1>
                <h4>...async code?</h4>
                <blockquote><p>Use <strong>utilities </strong> that make the test <strong>wait </strong>until all asynchronous
                    operations are <strong>completed</strong>.</p></blockquote>
                <ul class="no-bullets" style="float: left;">
                    <li>In Angular...</li>
                    <ul>
                        <li><strong>async & whenStable</strong></li>
                        <li><strong>fakeAsync & tick</strong></li>
                        <li><strong>jasmine done function</strong></li>
                    </ul>
                </ul>
            </section>

            <section>
                <h1>Karma</h1>
                <img class="plain" style="width: 18em;" src="./img/karma.jpg">
                <!--Image taken from: http://old-blog.jonasbandi.net/2015/11/karma-and-protractor-illustrated.html -->
            </section>

            <section>
                <h1>Protractor</h1>
                <img class="plain" style="width: 18em;" src="./img/protractor.jpg">
                <!--Image taken from: http://old-blog.jonasbandi.net/2015/11/karma-and-protractor-illustrated.html -->
            </section>
        </section>

        <!-- Section Frameworks and Libraries -->
        <section data-background-color="var(--agenda-bg)">
            <h1 class="flippedColor">Frameworks and Libraries</h1>
        </section>

        <section>
            <section>
                <h1>Frameworks and Libraries</h1>
                <UL>
                    <LI class="no-bullet">An attempt at definition:</LI>
                    <LI>Framework:
                        <br/>Controls lifecycle, offers specific callbacks or overrides, typically can not be combined with other frameworks
                    </LI>
                    <LI>Library:
                        <br/>Called by us, limited control over an aspect, typically can be combined with other libraries
                    </LI>
                </UL>
            </section>

            <section>
                <h2>Dimensions for looking at Frameworks/Libraries (1/3)</h2>
                <UL>
                    <LI>Which parts of the frontend jobs does the framework address?</LI>
                    <UL>
                        <LI>Only presentation = UI-Toolkit: JSF, Swing, WinForms, …</LI>
                        <LI>Dialog organization (separated from the UI-Toolkit): CUF, …?</LI>
                        <LI>Almost Everything: Angular, ExtJS, GWT, Android SDK</LI>
                        <LI>Only a specific task, e.g. data model or state management?</LI>
                    </UL>
                    <LI>Opinionated vs. liberal?</LI>
                    <UL>
                        <LI>What are the degrees of liberty? Do they match the requirements?</LI>
                    </UL>
                    <LI>Plays well with others?</LI>
                    <UL>
                        <LI>Does it come with an ecosystem? (e.g. like Angular)</LI>
                    </UL>
                </UL>
            </section>

            <section>
                <h2>Dimensions (2/3)</h2>
                <UL>
                    <LI>How does the interaction with the framework/library work?</LI>
                    <UL>
                        <LI>Does it start and we plug into it at specific places?</LI>
                        <UL>
                            <LI>Then it is probably incompatible with others like it…</LI>
                        </UL>
                        <LI>Do we mostly configure it?</LI>
                        <LI>Do we call it when it has to do something?</LI>
                    </UL>
                    <LI>Does it provide debugging support?</LI>
                    <LI>Does it define a lifecycle?</LI>
                    <UL>
                        <LI>Chances are it will be incompatible with others that also define a lifecyle…</LI>
                    </UL>
                </UL>
            </section>
            <section>
                <h2>Dimensions (3/3)</h2>
                <UL>
                    <LI>What can be perceived of the quality and support?</LI>
                    <UL>
                        <LI>Is the documentation good beyond the “hello world”?</LI>
                        <LI>Does it have a presence on Stack Overflow?</LI>
                        <LI>What is the bug status?</LI>
                        <LI>How old / stable / up-to-date is it?</LI>
                    </UL>
                    <LI>Is it platform specific?</LI>
                    <UL>
                        <LI>If not – is it equally good on all platforms?</LI>
                    </UL>
                    <!-- TODO BOL (3): Idea? Image growth of a Framework…: start small with few features, get big and incomprehensible, die ... needs examples -->
                </UL>
            </section>

            <section>
                <h1>What is a JS Framework?</h1>
                <img class="plain" src="./img/frameworks.png">
                <!--Image taken from: https://medium.freecodecamp.org/do-we-still-need-javascript-frameworks-42576735949b -->
            </section>

            <section>
                <span class="author">
                    Do I really need all these <strong>tools, dependencies and frameworks</strong>? What is the <strong><span
                        style="color: #41b883">advantage</span></strong>?
                    Why and when <strong>Angular</strong> / <strong>React</strong> / <strong>Vue</strong>?
                </span>
                <img class="plain" src="./img/angular-react-vue.png">
                <!-- Image taken from: https://cdn-images-1.medium.com/max/618/0*9N9J9YiGJrISLIBP.png -->
            </section>

            <section data-background-color="#20b5c1">
                <h1 style="text-transform: none; color: black">Angular</h1>
                <ul class="no-bullets">
                    <ul>
                        <li>introduced by <strong>Google</strong></li>
                        <li><strong>open source</strong></li>
                        <li>released in <strong>September 2016</strong></li>
                        <li><strong>v3</strong> was skipped to avoid semantic version issues</li>
                        <li><strong>component based architecture</strong></li>
                    </ul>
                </ul>
                <img style="margin-top: -1.6em; float: right" class="plain" src="./img/angular_typescript.png">
                <!-- Image taken from: https://www.rethinkdb.com/assets/images/posts/2016-01-29-angular-typescript-banner.png -->
            </section>

            <section>
                <h1 style="text-transform: none; color: black">Angular</h1>
                <h5 style="text-transform: none; color: black">pros & cons</h5>
                <div style="display: flex;">
                    <ul class="no-bullets">
                        <ul>
                            <li>Focus on <strong>components</strong></li>
                            <li>High performance</li>
                            <li>Application<strong> Component Tree</strong></li>
                            <li><strong>Ivy renderer</strong></li>
                            <li><strong>JIT & AOT</strong></li>
                            <li><strong>TypeScript</strong></li>
                            <li><strong>Angular CLI</strong></li>
                        </ul>
                    </ul>

                    <ul class="no-bullets">
                        <ul>
                            <li><strong>Steep learning curve</strong></li>
                            <li><strong>Complex </strong> Angular Forms may be difficult</li>
                            <li>RxJS may be <strong>difficult</strong></li>
                        </ul>
                    </ul>
                </div>

                <img class="plain" style="float: right; margin-top: -4.4em;" src="./img/angular.png">
                <!-- Image taken from: https://avatars2.githubusercontent.com/u/139426?v=4&s=400 -->
            </section>

            <section>
                <h1 style="text-transform: none; color: black">React</h1>
                <ul class="no-bullets">
                    <ul>
                        <li>introduced by <strong>Facebook</strong></li>
                        <li><strong>open source</strong></li>
                        <li>released in <strong>May 2013</strong></li>
                        <li><strong>V </strong> layer in the <strong>MVW </strong>models</li>
                    </ul>
                </ul>
                <img style="margin-top: -0.1em; float: right; width: 8em;" class="plain" src="./img/react.png">
                <!-- Image taken from: https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png -->
            </section>

            <section data-background-color="#222222">
                <h1 style="text-transform: none; color: white; display: inline;">React</h1>
                <h5 style="text-transform: none; color: white">pros & cons</h5>
                <div style="display: flex;">
                    <ul class="no-bullets">
                        <ul>
                            <li>Focus on <strong>components</strong></li>
                            <li><strong>JSX</strong></li>
                            <li><strong>Virtual DOM</strong></li>
                            <li>High <strong>performance</strong></li>
                            <li><strong>Light-weighted</strong></li>
                            <li><strong>Redux & flux </strong>architecture</li>
                        </ul>
                    </ul>

                    <ul class="no-bullets">
                        <ul>
                            <li><strong>Limitation </strong> of documentation</li>
                            <li>Trying to <i>hook</i> React with <strong>other libraries </strong> may be problematic
                            </li>
                            <li>Being <strong>too flexible </strong>in structure can be problematic</li>

                        </ul>
                    </ul>
                </div>

                <img style="float: right; height: 5em; margin-top: -4.1em;" class="plain" src="./img/react-js.jpg">
                <!-- Image taken from:http://media02.hongkiat.com/thumbs/640x410/react-js-web-developers-toolkit.jpg -->
            </section>

            <section>
                <h1 style="text-transform: none; color: black">Vue.js</h1>
                <ul class="no-bullets">
                    <ul>
                        <li>introduced by <strong>Evan You</strong></li>
                        <li><strong>open source</strong></li>
                        <li>released in <strong>February 2014</strong></li>
                    </ul>
                </ul>
                <img style="float: right; width: 4em" class="plain" src="./img/vue.png">
                <!-- Image taken from: https://vuejs.org/images/logo.png -->
            </section>

            <section>
                <h1 style="text-transform: none; color: black">Vue.js</h1>
                <h5 style="text-transform: none; color: black">pros & cons</h5>
                <div style="display: flex;">
                    <ul class="no-bullets">
                        <ul>
                            <li><strong>Small </strong>size</li>
                            <li><strong>Virtual DOM</strong></li>
                            <li><strong>Flexibility</strong></li>
                            <li><strong>Simplicity in syntax </br> & project setup</strong></li>
                            <li><strong>Fast</strong> rendering</li>
                        </ul>
                    </ul>

                    <ul class="no-bullets">
                        <ul>
                            <li>Language <strong>barrier</strong></li>
                            <li><strong>Closed and small </strong>community development</li>
                        </ul>
                    </ul>
                </div>
                <img style="margin-top: -5em; float: right" class="plain" src="./img/vue_cover.png">
                <!-- Image taken from: https://cdn-images-1.medium.com/max/1600/1*VvT44eH8rT8P35cKGTxyOw.png -->
            </section>
        </section>

        <!-- Section Web -->
        <section data-background-color="var(--agenda-bg)">
            <!-- TODO EWA -->
            <h1 class="flippedColor">The Web</h1>
        </section>
        <section>
            <section>
                <h1>What is ES5?</h1>
                <ul class="no-bullets">
                    <ul>
                        <li>ES5 was created to <strong>standardize </strong>JavaScript</li>
                        <li>ES5 is a shortcut for <strong>ECMAScript 5</strong></li>
                        <li>ES5 was released in <strong>2009</strong></li>
                    </ul>
                </ul>
            </section>

            <section>
                <h1>EcmaScript Standards</h1>
                <ul>
                    <li>ES5 (2009)</li>
                    <li>ES6 (2015)</li>
                    <li>ES7 (2016)</li>
                    <li>ES8 (2017)</li>
                    <li>ES9 (2018)</li>
                </ul>
                <br><br>
                <span class="author">
                    EcmaScript is the <strong>official</strong> name for JavaScript.
                </span>
            </section>

            <section>
                <h1>Why is ES5 still relevant?</h1>
                <ul>
                    <li>There are <strong>lots </strong> of legacy projects, build scripts, etc. written in
                        <strong>ES5</strong></li>
                    <li><strong>Older Browsers </strong> (IE,...) support ES5 via <strong>polyfills</strong> (shims)
                    </li>
                </ul>
            </section>

            <section>
                <h1>TypeScript</h1>
                <ul>
                    <li>is a <strong>typed superset </strong>of JavaScript that <strong>compiles </strong>to plain
                        JavaScript
                    </li>
                    <li>was invented by <strong>Microsoft</strong></li>
                </ul>
                <img class="plain" style="width: 5em; float: right" src="./img/typescript.png">
                <!--Image taken from: https://medium.com/@onejohi/getting-started-with-typescript-614ceef0921c -->
            </section>

            <section>
                <h1>Babel</h1>
                <h5>a JavaScript compiler</h5>
                <p>It is a <strong>toolchain </strong>that is mainly used to <strong>convert ECMAScript 2015+ </strong>
                    code into a <strong>backwards compatible</strong>
                    version of JavaScript in <strong>current and older </strong>browsers or environments.</p>
                <pre><code class="javascript">
// Babel Input: ES2015 arrow function
[1, 2, 3].map((n) => n + 1);

// Babel Output: ES5 equivalent
[1, 2, 3].map(function(n) {
  return n + 1;
});
                </code></pre>
            </section>

            <section>
                <h1>Can I Use?</h1>
                <p><a href="https://caniuse.com/#feat=css-grid">The site</a> provides <strong>up-to-date browser support
                    tables </strong>for the web technologies and features.</p>
                <p>For example: <strong>css-grid, Array.prototype.find, ...</strong></p>
                <img class="plain" style="width: 20em;" src="./img/can-i-use.PNG">

            </section>

            <section>
                <h1>Chrome dev tools</h1>
                <img class="plain" style="width: 12em;" src="./img/chrome-dev-tools.jpg">
                <!--Image taken from: https://www.ostraining.com/blog/webdesign/chrome-dev-tools/ -->
            </section>

            <!-- TODO Suggestion for additional web specialities: -->
            <!--TODO FROM ENE: I'd add here sth about: bundling, tree-shaking, minification -->
            <!--TODO FROM ENE: JIT, AOT compilation? -->

            <section>
                <h1>Literature recommendation</h1>
                <img class="plain" style="width: 8em;" src="./img/js-the-good-parts.jpg">
                <!--Image taken from: https://www.amazon.fr/Javascript-Good-Parts-D-Crockford/dp/0596517742 -->
            </section>
        </section>

        <section data-background-color="var(--tertiary-color)">
            <h1 class="flippedColor">
                Your experience
                <span style="color:#10e0ff">?</span>
            </h1>
        </section>
    </div>
</div>

<script src="../../../jspm_packages/system.js"></script>
<script src="./config.js"></script>
<script>
    System.import('./js/main');
</script>
</body>

</html>
